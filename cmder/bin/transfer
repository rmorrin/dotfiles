#!/usr/bin/env bash

# include cross-platform clipboard functions
scriptPath="$(which $0)"
echo "scriptPath is $scriptPath"
dirName="$(dirname -- $scriptPath)"
echo "dirname is $dirName"

source "$(dirname -- $0)/clippy"


# upload file, grab returned url
output=$(curl -s --upload-file $1 https://transfer.sh/${1##*[/|\\]})

# copy url to clipboard
echo "${output}" | setclip

# boom!
echo -e "File available @ \033[1;36m${output}\033[0m - copied to clipboard!"
